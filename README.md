# Проект веб-приложения для управления информацией об автомобилях

## Содержание

1. [Стек технологий](#стек-технологий)
2. [Назначение проекта](#назначение-проекта)
3. [Пример использования API](#пример-использования-api)
4. [Установка и запуск](#установка-и-запуск)
5. [Тесты](#тесты)
6. [Автор](#автор)

## Стек технологий

- **Python**: 3.12
- **Django**: 4.2
- **Django REST Framework**: 3.15.2
- **База данных**: Postgresql 14
- **HTML/CSS**: Для минимального оформления страниц

## Назначение проекта

Данный проект представляет собой веб-приложение для управления информацией об автомобилях. 
Пользователи могут добавлять, редактировать, удалять автомобили и оставлять комментарии к автомобилям. 
Приложение предоставляет REST API для взаимодействия с данными об автомобилях и комментариях, а также поддерживает регистрацию и авторизацию пользователей.

## Пример использования API

### 1. Получение списка автомобилей

GET /api/cars/

```json
[
  {
    "id": 1,
    "make": "Toyota",
    "model": "Camry",
    "year": 2021,
    "description": "Компактный седан с отличной экономией топлива и современными технологиями безопасности."
  },
  {
    "id": 2,
    "make": "Ford",
    "model": "Mustang",
    "year": 2022,
    "description": "Спортивный автомобиль с мощным двигателем и агрессивным дизайном."
  }
]
```

### 2. Получение информации о конкретном автомобиле

GET /api/cars/1/

```json
{
  "id": 1,
  "make": "Toyota",
  "model": "Camry",
  "year": 2021,
  "description": "Компактный седан с отличной экономией топлива и современными технологиями безопасности."
}
```

### 3. Добавление нового автомобиля

POST /api/cars/

Запрос:

```json
{
  "make": "Honda",
  "model": "Civic",
  "year": 2020,
  "description": "Надежный и экономичный седан, идеален для городской эксплуатации."
}
```

Ответ:

```json
{
  "id": 3,
  "make": "Honda",
  "model": "Civic",
  "year": 2020,
  "description": "Надежный и экономичный седан, идеален для городской эксплуатации."
}
```

### 4. Добавление комментария к автомобилю

POST /api/cars/1/comments/

Запрос:

```json
{
  "content": "Отличный автомобиль, но немного шумный на высоких скоростях."
}
```

Ответ:

```json
{
  "id": 2,
  "content": "Отличный автомобиль, но немного шумный на высоких скоростях.",
  "created_at": "2024-12-10T12:34:56Z",
  "author": "user2"
}
```

## Установка и запуск

Клонировать репозиторий и перейти в него:

```
git https://github.com/Alex386386/car_versions_controller.git
cd car_versions_controller/
```

Создайте файл .env со следующим содержанием:

```
SECRET_KEY=<Секретный ключ от проекта Django>
DB_ENGINE=<Движок для подключения к БД>
DB_NAME=<Имя вашей БД>
POSTGRES_USER=<Имя пользователя для БД>
POSTGRES_PASSWORD=<Пароль от БД>
DB_HOST='controller_db'
DB_PORT='5432'
DEBUG=False
```

Запустить проект:

```
sudo docker compose --env-file ../.env up --build -d
```

## Тесты

Для запуска тестов поднимите виртуальное окружение,
установите зависимости из директории src и в корне проекта выполните следующую команду:

```
export PYTHONPATH=$PYTHONPATH:/<полный путь до папки с проектом>/car_versions_controller/src
pytest
```

Тесты покрывают: функционал API интерфейса, вью функции и сервисы. 

## Автор

- [Александр Мамонов](https://github.com/Alex386386) 
